"use strict";(()=>{var e={};e.id=222,e.ids=[222,888,660],e.modules={1323:(e,r)=>{Object.defineProperty(r,"l",{enumerable:!0,get:function(){return function e(r,t){return t in r?r[t]:"then"in r&&"function"==typeof r.then?r.then(r=>e(r,t)):"function"==typeof r&&"default"===t?r:void 0}}})},6762:(e,r,t)=>{t.r(r),t.d(r,{config:()=>C,default:()=>v,getServerSideProps:()=>q,getStaticPaths:()=>N,getStaticProps:()=>E,reportWebVitals:()=>_,routeModule:()=>I,unstable_getServerProps:()=>L,unstable_getServerSideProps:()=>R,unstable_getStaticParams:()=>O,unstable_getStaticPaths:()=>G,unstable_getStaticProps:()=>A});var a={};t.r(a),t.d(a,{default:()=>z});var s=t(7093),o=t(5244),i=t(1323),x=t(2899),n=t.n(x),p=t(5536),l=t(997),d=t(6689),c=t(6981);let b=require("@stripe/stripe-js"),m=require("@stripe/react-stripe-js");var u=t(9816),g=t.n(u);let f=require("isomorphic-fetch");var h=t.n(f);let j=function(e){return(0,l.jsxs)("div",{className:"jsx-2213986cca10df41",children:[(0,l.jsxs)("div",{className:"jsx-2213986cca10df41",children:[l.jsx("label",{htmlFor:"card-element",className:"jsx-2213986cca10df41",children:"Credit or debit card"}),l.jsx("div",{className:"jsx-2213986cca10df41",children:l.jsx("fieldset",{style:{border:"none"},className:"jsx-2213986cca10df41",children:(0,l.jsxs)("div",{className:"jsx-2213986cca10df41 form-row",children:[l.jsx("div",{id:"card-element",style:{width:"100%"},className:"jsx-2213986cca10df41",children:l.jsx(m.CardElement,{options:{style:{width:"100%",base:{fontSize:"18px"}}}})}),l.jsx("br",{className:"jsx-2213986cca10df41"}),l.jsx("div",{className:"jsx-2213986cca10df41 order-button-wrapper",children:l.jsx("button",{onClick:e.submitOrder,className:"jsx-2213986cca10df41",children:"Confirm order"})}),e.stripeError?l.jsx("div",{className:"jsx-2213986cca10df41",children:e.stripeError.toString()}):null,l.jsx("div",{id:"card-errors",role:"alert",className:"jsx-2213986cca10df41"})]})})})]}),l.jsx(g(),{id:"2213986cca10df41",children:".order-button-wrapper.jsx-2213986cca10df41{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-align:end;-webkit-align-items:flex-end;-moz-box-align:end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}"})]})};var w=t(2440),k=t(6734),y=t.n(k);let P=function(){let[e,r]=(0,d.useState)({address:"",city:"",state:"",stripe_id:""}),[t,a]=(0,d.useState)(""),s=(0,m.useStripe)(),o=(0,m.useElements)(),i=(0,d.useContext)(w.Z);function x(t){let a=e[t.target.name]=t.target.value;r({...e,updateItem:a})}async function n(){let r=o.getElement(m.CardElement),t=await s.createToken(r),x=y().get("token"),n=await h()("http://localhost:1337/orders",{method:"POST",headers:x&&{Authorization:`Bearer ${x}`},body:JSON.stringify({amount:Number(Math.round(i.cart.total+"e2")+"e-2"),dishes:i.cart.items,address:e.address,city:e.city,state:e.state,token:t.token.id})});n.ok||(a(n.statusText),console.log("SUCCESS"))}return(0,l.jsxs)("div",{className:"jsx-81a0afea84137dc1 paper",children:[l.jsx("h5",{className:"jsx-81a0afea84137dc1",children:"Your information:"}),l.jsx("hr",{className:"jsx-81a0afea84137dc1"}),l.jsx(c.FormGroup,{style:{display:"flex"},children:(0,l.jsxs)("div",{style:{flex:"0.90",marginRight:10},className:"jsx-81a0afea84137dc1",children:[l.jsx(c.Label,{children:"Address"}),l.jsx(c.Input,{name:"address",onChange:x})]})}),(0,l.jsxs)(c.FormGroup,{style:{display:"flex"},children:[(0,l.jsxs)("div",{style:{flex:"0.65",marginRight:"6%"},className:"jsx-81a0afea84137dc1",children:[l.jsx(c.Label,{children:"City"}),l.jsx(c.Input,{name:"city",onChange:x})]}),(0,l.jsxs)("div",{style:{flex:"0.25",marginRight:0},className:"jsx-81a0afea84137dc1",children:[l.jsx(c.Label,{children:"State"}),l.jsx(c.Input,{name:"state",onChange:x})]})]}),l.jsx(j,{data:e,stripeError:t,submitOrder:n}),l.jsx(g(),{id:"81a0afea84137dc1",children:'.paper{border:1px solid lightgray;-webkit-box-shadow:0px 1px 3px 0px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 2px 1px -1px rgba(0,0,0,.12);-moz-box-shadow:0px 1px 3px 0px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 2px 1px -1px rgba(0,0,0,.12);box-shadow:0px 1px 3px 0px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 2px 1px -1px rgba(0,0,0,.12);height:550px;padding:30px;background:#fff;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;margin-top:90px}.form-half{-webkit-box-flex:.5;-webkit-flex:.5;-moz-box-flex:.5;-ms-flex:.5;flex:.5}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}body,html{background-color:#f6f9fc;font-size:18px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}h1{color:#32325d;font-weight:400;line-height:50px;font-size:40px;margin:20px 0;padding:0}.Checkout{margin:0 auto;max-width:800px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0 5px}label{color:#6b7c93;font-weight:300;letter-spacing:.025em}button{white-space:nowrap;border:0;outline:0;display:inline-block;height:40px;line-height:40px;padding:0 14px;-webkit-box-shadow:0 4px 6px rgba(50,50,93,.11),0 1px 3px rgba(0,0,0,.08);-moz-box-shadow:0 4px 6px rgba(50,50,93,.11),0 1px 3px rgba(0,0,0,.08);box-shadow:0 4px 6px rgba(50,50,93,.11),0 1px 3px rgba(0,0,0,.08);color:#fff;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:15px;font-weight:600;text-transform:uppercase;letter-spacing:.025em;background-color:#6772e5;text-decoration:none;-webkit-transition:all 150ms ease;-moz-transition:all 150ms ease;-o-transition:all 150ms ease;transition:all 150ms ease;margin-top:10px}form{margin-bottom:40px;padding-bottom:40px;border-bottom:3px solid#e6ebf1}button:hover{color:#fff;cursor:pointer;background-color:#7795f8;-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px);-webkit-box-shadow:0 7px 14px rgba(50,50,93,.1),0 3px 6px rgba(0,0,0,.08);-moz-box-shadow:0 7px 14px rgba(50,50,93,.1),0 3px 6px rgba(0,0,0,.08);box-shadow:0 7px 14px rgba(50,50,93,.1),0 3px 6px rgba(0,0,0,.08)}input,.StripeElement{display:block;background-color:#f8f9fa!important;margin:10px 0 20px 0;max-width:500px;padding:10px 14px;font-size:1em;font-family:"Source Code Pro",monospace;-webkit-box-shadow:rgba(50,50,93,.14902)0px 1px 3px,rgba(0,0,0,.0196078)0px 1px 0px;-moz-box-shadow:rgba(50,50,93,.14902)0px 1px 3px,rgba(0,0,0,.0196078)0px 1px 0px;box-shadow:rgba(50,50,93,.14902)0px 1px 3px,rgba(0,0,0,.0196078)0px 1px 0px;border:0;outline:0;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background:white}input::-webkit-input-placeholder{color:#aab7c4}input:-moz-placeholder{color:#aab7c4}input::-moz-placeholder{color:#aab7c4}input:-ms-input-placeholder{color:#aab7c4}input::-ms-input-placeholder{color:#aab7c4}input::placeholder{color:#aab7c4}input:focus,.StripeElement--focus{-webkit-box-shadow:rgba(50,50,93,.109804)0px 4px 6px,rgba(0,0,0,.0784314)0px 1px 3px;-moz-box-shadow:rgba(50,50,93,.109804)0px 4px 6px,rgba(0,0,0,.0784314)0px 1px 3px;box-shadow:rgba(50,50,93,.109804)0px 4px 6px,rgba(0,0,0,.0784314)0px 1px 3px;-webkit-transition:all 150ms ease;-moz-transition:all 150ms ease;-o-transition:all 150ms ease;transition:all 150ms ease}.StripeElement.IdealBankElement,.StripeElement.PaymentRequestButton{padding:0}'})]})};var S=t(5321);let z=function(){let{isAuthenticated:e}=(0,d.useContext)(w.Z),r=(0,b.loadStripe)("pk_test_51HaLhVGgpfLkdZwmHVQcCOdUzwLWqV7umg9EbicemJqLOcLBPDrPtszruyxf4UzqH0lKwaNj5se3tHldNx92nPjI00Zoi8VgBN");return(0,l.jsxs)(c.Row,{children:[(0,l.jsxs)(c.Col,{style:{paddingRight:0},sm:{size:3,order:1,offset:2},children:[l.jsx("h1",{style:{margin:20},children:"Checkout"}),l.jsx(S.Z,{isAuthenticated:e})]}),l.jsx(c.Col,{style:{paddingLeft:5},sm:{size:6,order:2},children:l.jsx(m.Elements,{stripe:r,children:l.jsx(P,{})})})]})},v=(0,i.l)(a,"default"),E=(0,i.l)(a,"getStaticProps"),N=(0,i.l)(a,"getStaticPaths"),q=(0,i.l)(a,"getServerSideProps"),C=(0,i.l)(a,"config"),_=(0,i.l)(a,"reportWebVitals"),A=(0,i.l)(a,"unstable_getStaticProps"),G=(0,i.l)(a,"unstable_getStaticPaths"),O=(0,i.l)(a,"unstable_getStaticParams"),L=(0,i.l)(a,"unstable_getServerProps"),R=(0,i.l)(a,"unstable_getServerSideProps"),I=new s.PagesRouteModule({definition:{kind:o.x.PAGES,page:"/checkout",pathname:"/checkout",bundlePath:"",filename:""},components:{App:p.default,Document:n()},userland:a})},5244:(e,r)=>{var t;Object.defineProperty(r,"x",{enumerable:!0,get:function(){return t}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(t||(t={}))},9114:e=>{e.exports=require("@apollo/client")},6734:e=>{e.exports=require("js-cookie")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},6981:e=>{e.exports=require("reactstrap")},9816:e=>{e.exports=require("styled-jsx/style")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[567,424,899,536],()=>t(6762));module.exports=a})();